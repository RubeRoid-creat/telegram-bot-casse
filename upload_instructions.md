# Инструкция по загрузке файлов на сервер

## Проблема: Permission denied (publickey)

Сервер требует SSH-ключ для подключения. Есть несколько решений:

## Решение 1: Настроить SSH-ключ (рекомендуется)

### Автоматическая настройка:
```powershell
.\setup_ssh_key.ps1
```

### Ручная настройка:

**1. Создайте SSH ключ (если его нет):**
```powershell
ssh-keygen -t rsa -b 4096 -f $env:USERPROFILE\.ssh\id_rsa
```
(Нажмите Enter для всех вопросов)

**2. Скопируйте публичный ключ на сервер:**
```powershell
# Вариант A: Автоматически (если ssh-copy-id доступен)
ssh-copy-id root@212.74.227.208

# Вариант B: Вручную
type $env:USERPROFILE\.ssh\id_rsa.pub | ssh root@212.74.227.208 "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"
```

**3. После настройки ключа загрузите файлы:**
```powershell
scp -r * root@212.74.227.208:/root/telegram-bot/
```

## Решение 2: Использовать WinSCP (графический интерфейс)

1. Скачайте [WinSCP](https://winscp.net/eng/download.php)
2. Установите и запустите
3. Подключитесь:
   - Хост: `212.74.227.208`
   - Пользователь: `root`
   - Протокол: SFTP
   - Если есть ключ: укажите путь к приватному ключу в настройках
4. Перетащите файлы из локальной папки на сервер

## Решение 3: Включить парольную аутентификацию на сервере

**ВНИМАНИЕ: Менее безопасно!**

Если у вас есть доступ к серверу, можно временно включить парольную аутентификацию:

1. Подключитесь к серверу (если есть другой способ доступа)
2. Отредактируйте конфиг SSH:
```bash
nano /etc/ssh/sshd_config
```

3. Найдите и измените:
```
PasswordAuthentication yes
PubkeyAuthentication yes
```

4. Перезапустите SSH:
```bash
systemctl restart sshd
```

5. Теперь можно использовать пароль для SCP

## Решение 4: Загрузить через Git (если есть репозиторий)

Если файлы в Git репозитории:

```bash
# На сервере
cd /root/telegram-bot/
git clone <ваш_репозиторий> .
```

## Решение 5: Использовать FTP/SFTP клиент

- FileZilla (бесплатный)
- WinSCP (бесплатный)
- Cyberduck (бесплатный)

Подключитесь по SFTP с теми же данными.

